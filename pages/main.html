<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Noughts & Crosses (Tic-Tac-Toe) Game</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />

    <link
      href="https://fonts.googleapis.com/css2?family=Press+Start+2P&family=Quicksand:wght@300..700&display=swap"
      rel="stylesheet"
    />

    <link href="../assets/css/main.styling.css" rel="stylesheet" />
  </head>

  <body>
    <button class="audio_btn">
      <img src="../assets/images/audio.png" alt="audio" />
    </button>
    <audio
      id="bgMusicMain"
      src="../assets/audio/background_music.mp3"
      loop
    ></audio>
    <header>
      <div>
        <h5 class="game_title gradient-text">NoughtsXCrosses</h5>
        <p class="" style="font-size: 14px; font-weight: 800">Round Mode</p>
        <h1 id="round_mode_type" class=""></h1>
      </div>

      <div id="timer_wrapper" class="timer_wrapper hidden">
        <h4 title="Next Players Turn In">
          <span id="timer_countdown">20</span>s
        </h4>
      </div>
    </header>

    <button
      class="pause_game"
      id="pause_game"
      title="Pause Game"
      onclick="pauseGame()"
    >
      <img src="../assets/images/video-pause-button.png" alt="Pause Game" />
    </button>

    <div style="height: 100px"></div>

    <div class="player_turn_wrapper">
      <p class="gradient-text">Current Player</p>
      <section id="player_turn_tracker"></section>
    </div>

    <div id="scoreTracker"></div>
    <div class="board-container">
      <button id="resetButton" class="btn">Reset Game</button>
      <!-- <button id="resetButton" class="btn">Reset Game</button> -->

      <div id="gameMessage" class="game-message gradient-text2"></div>
      <div id="tic-tac-toe-board"></div>
    </div>

    <div class="modal hidden">
      <section class="game-over-modal">
        <h1 class="gradient-text">GAME OVER</h1>

        <p class="winner_name"></p>

        <small>Wanna give it another go?</small>
        <button class="btn" id="play_again">Play Again</button>
      </section>
    </div>

    <div class="hidden modal">
      <section class="round_instructions">
        <h1 class="gradient-text">Round Instructions</h1>

        <p>
          Each players turn as a set time limit of
          <span id="round_instructions_time_limit">30</span> seconds
        </p>

        <button
          type="button"
          id="round_instruction_confirm"
          style="margin: 20px 0px 0px 0px"
          class="btn"
        >
          OK!
        </button>
      </section>
    </div>

    <div class="modal hidden">
      <section class="game_pause_modal">
        <h1 style="margin-bottom: 10px" class="gradient-text">Paused</h1>
        <button onclick="resumeGame()" class="btn">Resume</button>
        <button id="true-reset-btn" class="btn3">Reset Game</button>
        <button onclick="exitGame()" class="btn2">Exit</button>
      </section>
    </div>

    <script>
      /** @type {HTMLButtonElement} */
      const audioBtnMain = document.querySelector(".audio_btn");

      audioBtnMain.addEventListener("click", (e) => {
        /** @type {HTMLAudioElement} */
        const bgMusicMain = document.getElementById("bgMusicMain");
        /**@type {HTMLImageElement} */
        const imgNode = audioBtnMain.children[0];
        bgMusicMain.volume = 0.3;
        if (bgMusicMain.paused) {
          bgMusicMain.play();
          imgNode.setAttribute("src", "../assets/images/mute.png");
        } else {
          bgMusicMain.pause();
          imgNode.setAttribute("src", "../assets/images/audio.png");
        }
      });
    </script>
    <script src="../assets/js/main.script.js"></script>
  </body>
</html>
